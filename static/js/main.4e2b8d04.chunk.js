(this["webpackJsonploft-taxi"]=this["webpackJsonploft-taxi"]||[]).push([[0],{182:function(e,t,r){e.exports={mapContainer:"Map_mapContainer__3wv9T"}},204:function(e,t,r){},207:function(e,t,r){},332:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(0),c=r.n(a),o=r(17),i=r.n(o),s=(r(204),r(389)),l=r(184),u=r(171),d=r.n(u),j=Object(l.a)({spacing:8,palette:{primary:{main:"#fdbf5a"},secondary:{main:"#1c1a19"}},typography:{h4:{marginBottom:32}},status:{danger:d.a[500]},overrides:{MuiFormLabel:{root:{marginTop:25,fontWeight:"700",color:"#000","&$focused":{color:"#1473e6"}}},MuiLink:{root:{color:"#828282",cursor:"pointer"}},MuiTextField:{root:{marginBottom:14,marginTop:10}},MuiInput:{underline:{"&:after":{"border-bottom-color":"#1473e6"}}},MuiAppBar:{root:{paddingTop:20,paddingBottom:20}},MuiTabs:{root:{color:"#fff",cursor:"pointer"}},MuiTab:{},MuiButton:{root:{textTransform:"none",textAlign:"center"},containedPrimary:{boxShadow:"none",fontSize:22,backgroundColor:"#fdbf5a",borderRadius:70,marginTop:46,marginBottom:32,"&:focus":{boxShadow:"0 0 0 0.2rem rgba(0,123,255,.5)"}},textPrimary:{color:"#fdbf5a",cursor:"pointer"}}}}),p=(r(207),r(27)),b=r(87),m=r(374),h=r(377),f=r(38),x=r(32),O="LOGIN",g="LOGOUT",v="AUTHENTICATE",y="SAVECARD",L="STORECARD",w="REGISTER",k="GETADDRESSES",C="STOREADDRESSES",F="GETROUTE",M="STOREROUTE",H="LOGIN_ERROR",E="SAVECARD_ERROR",A=function(e){return{type:O,payload:e}},S=function(e){return{type:H,payload:e}},T=function(){return{type:g}},D=function(e){return{type:L,payload:e}},I=function(){return{type:k}},Z={isLoggedIn:!1,authToken:"",error:" "},B=r(23),R={cardNumber:"",expiryDate:"",cardName:"",cvc:"",token:"AUTH_TOKEN",error:" "},P={email:"",password:"",name:"",surname:"",token:"AUTH_TOKEN"},N={addresses:[]},W=r(15),U={route:[]},G=r(86),J=r(129),V=r.n(J),z={key:"root",storage:V.a,blacklist:["auth"]},_={key:"auth",storage:V.a,blacklist:["error"]},q=Object(x.c)({auth:Object(G.a)(_,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{isLoggedIn:!0,authToken:t.payload,error:" "};case H:return{error:t.payload};case g:return{isLoggedIn:!1};default:return e}})),profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(B.a)({},t.payload);case E:return{error:t.payload};default:return e}},reg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;return t.type===w?Object(B.a)({},t.payload):e},addresses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;return t.type===C?Object(B.a)({},t.payload):e},route:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;return t.type===M?Object(W.a)(t.payload):e}}),Y=function(e){return{isLoggedIn:e.auth.isLoggedIn}},K=function(e){return{error:e.auth.error}},$=function(e){return{addresses:e.addresses.addresses}},X=function(e){return{cardNumber:e.profile.cardNumber}},Q=Object(G.a)(z,q),ee=r(37),te=r(67),re=function(e){var t=e.children,r=Object(te.a)(e,["children"]);return Object(n.jsx)("form",Object(B.a)(Object(B.a)({noValidate:!0},r),{},{children:t}))},ne=r(371),ae=function(e){var t=e.children,r=Object(te.a)(e,["children"]);return Object(n.jsx)(ne.a,Object(B.a)(Object(B.a)({className:"Mui-error",style:{textAlign:"center"}},r),{},{children:t}))},ce=r(74),oe=r(391),ie=Object(a.forwardRef)((function(e,t){return Object(n.jsx)(oe.a,Object(B.a)({inputRef:t,fullWidth:!0},e))})),se=function(e){var t=e.children,r=Object(te.a)(e,["children"]);return Object(n.jsx)(h.a,Object(B.a)(Object(B.a)({variant:"contained",color:"primary",type:"submit"},r),{},{children:t}))},le=r(46),ue=r(22),de=le.a().shape({email:le.b().email("Enter valid email address").required("Enter email address"),password:le.b().required("Enter password")}),je=function(e){var t,r,a=e.useDispatchHook,c=void 0===a?ue.c:a,o=Object(ee.d)({mode:"onBlur",resolver:Object(ce.a)(de)}),i=o.register,s=o.handleSubmit,l=o.errors,u=c(),d=Object(ue.d)(K).error;return Object(n.jsxs)(re,{"data-testid":"loginForm",onSubmit:s((function(e){var t;u((t={email:e.email,password:e.password},{type:v,payload:t}))})),style:{display:"flex",flexDirection:"column"},children:[Object(n.jsx)(b.a,{variant:"h4",component:"h1",style:{textAlign:"center"},children:"Log In"}),Object(n.jsx)(ae,{children:d}),Object(n.jsx)(m.a,{htmlFor:"email",children:"Email"}),Object(n.jsx)(ie,{type:"email",name:"email",id:"email",placeholder:"mail@mail.ru",ref:i,error:!!l.email,helperText:null===l||void 0===l||null===(t=l.email)||void 0===t?void 0:t.message}),Object(n.jsx)(m.a,{htmlFor:"password",children:"Password"}),Object(n.jsx)(ie,{type:"password",name:"password",id:"password",placeholder:"*************",ref:i,error:!!l.password,helperText:null===l||void 0===l||null===(r=l.password)||void 0===r?void 0:r.message}),Object(n.jsx)("p",{style:{textAlign:"right"},children:"Forgot password?"}),Object(n.jsx)(se,{"data-testid":"loginSubmit",children:"Log In"}),Object(n.jsxs)("p",{style:{textAlign:"center"},children:["Don't have an account?"," ",Object(n.jsx)(h.a,{variant:"text",color:"primary",component:f.b,to:"/signup",children:"Sign Up"})]})]})},pe=le.a().shape({email:le.b().email("Enter valid email address").required("Enter email address"),password:le.b().required("Enter password"),name:le.b().matches(/^[A-Za-z ]*$/,"Enter correct first name").required("Enter your first name"),surname:le.b().matches(/^[A-Za-z ]*$/,"Enter correct last name").required("Enter your last name")}),be=function(e){var t,r,a,c,o=e.useDispatchHook,i=void 0===o?ue.c:o,s=Object(ee.d)({mode:"onBlur",resolver:Object(ce.a)(pe)}),l=s.register,u=s.handleSubmit,d=s.errors,j=i(),p=Object(ue.d)(K).error;return Object(n.jsxs)(re,{"data-testid":"registerForm",style:{display:"flex",flexDirection:"column"},onSubmit:u((function(e){var t;j((t={email:e.email,password:e.password,name:e.name,surname:e.surname},{type:w,payload:t}))})),children:[Object(n.jsx)(b.a,{variant:"h4",component:"h1",style:{textAlign:"center"},children:"Sign Up"}),Object(n.jsx)(ae,{children:p}),Object(n.jsx)(m.a,{htmlFor:"email",children:"Email*"}),Object(n.jsx)(ie,{type:"email",name:"email",id:"email",placeholder:"example@example.com",ref:l,error:!!d.email,helperText:null===d||void 0===d||null===(t=d.email)||void 0===t?void 0:t.message}),Object(n.jsx)(m.a,{htmlFor:"name",children:"First name*"}),Object(n.jsx)(ie,{type:"text",name:"name",id:"name",placeholder:"Alison",ref:l,error:!!d.name,helperText:null===d||void 0===d||null===(r=d.name)||void 0===r?void 0:r.message}),Object(n.jsx)(m.a,{htmlFor:"surname",children:"Last name*"}),Object(n.jsx)(ie,{type:"text",name:"surname",id:"surname",placeholder:"Johnson",ref:l,error:!!d.surname,helperText:null===d||void 0===d||null===(a=d.surname)||void 0===a?void 0:a.message}),Object(n.jsx)(m.a,{htmlFor:"password",children:"Password*"}),Object(n.jsx)(ie,{type:"password",name:"password",id:"password",placeholder:"*************",ref:l,error:!!d.password,helperText:null===d||void 0===d||null===(c=d.password)||void 0===c?void 0:c.message}),Object(n.jsx)(se,{"data-testid":"registerSubmit",children:"Sign Up"}),Object(n.jsxs)("p",{style:{textAlign:"center"},children:["Already have an account?"," ",Object(n.jsx)(h.a,{variant:"text",color:"primary",component:f.b,to:"/signin",children:"Log In"})]})]})};function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function he(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var fe=a.createElement("path",{d:"M11.4305 82.44L10.2305 86.448H4.4225L5.5265 82.488L11.4305 82.44ZM15.9425 94.896L12.5825 98.976H0.9185L4.0145 88.032H9.8465L7.9265 94.872L15.9425 94.896ZM34.3886 86.472H18.5726C18.8926 85.384 19.4366 84.464 20.2046 83.712C21.1486 82.8 22.1246 82.344 23.1326 82.344H31.2926C33.3566 82.344 34.3886 83.44 34.3886 85.632C34.3886 86.176 34.3886 86.456 34.3886 86.472ZM34.0526 88.008L33.9566 88.392C33.7006 89.224 33.2606 90.744 32.6366 92.952C32.2366 94.344 31.6206 95.512 30.7886 96.456C29.2846 98.152 27.2686 99 24.7406 99H21.8846C20.3486 99 19.1326 98.712 18.2366 98.136C17.1326 97.448 16.5806 96.384 16.5806 94.944C16.5806 94.176 16.7006 93.36 16.9406 92.496L18.1406 88.056H23.7326L22.0766 93.888C22.0126 94.16 21.9806 94.368 21.9806 94.512C21.9806 94.832 22.1246 95.032 22.4126 95.112H25.8926C26.3246 95 26.6446 94.592 26.8526 93.888L28.5806 88.032L34.0526 88.008ZM51.3433 82.44L50.1913 86.472H34.6152L37.1833 82.44H51.3433ZM49.8553 88.032L48.5353 92.424H40.8313L39.0312 98.976H32.7192L35.7673 88.032H49.8553ZM68.6398 82.44L67.5358 86.424H51.5518L54.0958 82.44H68.6398ZM62.4238 88.032L59.5198 98.976H54.0238L56.9998 88.032H62.4238Z",fill:"white"}),xe=a.createElement("path",{d:"M86.1944 82.44L85.0904 86.424H69.1064L71.6504 82.44H86.1944ZM79.9784 88.032L77.0744 98.976H71.5784L74.5544 88.032H79.9784ZM100.989 86.472H90.6211L94.0771 82.44H100.125L100.989 86.472ZM103.677 98.976H97.6531L96.0211 92.448H92.6131L87.7891 98.976H80.7571L89.3491 88.008H101.325L103.677 98.976ZM123.947 82.464L120.083 86.448L108.467 86.424L107.507 82.512H113.531L113.987 84.384L115.763 82.488L123.947 82.464ZM118.595 88.032L115.691 91.224L117.323 99L111.083 98.976L110.627 96.96L108.827 99H100.691L109.115 89.688L108.779 88.08L118.595 88.032ZM130.409 82.44L129.305 86.472H123.521L124.673 82.44H130.409ZM128.945 88.032L125.945 98.976H120.113L123.161 88.032H128.945Z",fill:"#FDBF5A"}),Oe=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M65 66C83.2254 66 98 51.2254 98 33C98 29.1726 97.3484 25.4974 96.1501 22.0793L54.0793 64.1501C57.4974 65.3484 61.1726 66 65 66ZM38.3335 52.4435L54.5254 36.2516L35.8296 17.5558C33.3849 22.1638 32 27.4202 32 33C32 40.2698 34.3507 46.9905 38.3335 52.4435ZM49.5558 3.82961L68.2516 22.5254L84.4435 6.33352C78.9905 2.35073 72.2698 0 65 0C59.4202 0 54.1638 1.38486 49.5558 3.82961Z",fill:"#FDBF5A"}),ge=a.createElement("path",{d:"M42.8775 10.9608L46.9609 15.0441",stroke:"#FDBF5A",strokeWidth:4}),ve=a.createElement("path",{d:"M51.6128 52.8971L47.5294 56.9804",stroke:"#FDBF5A",strokeWidth:4}),ye=a.createElement("path",{d:"M58.8922 45.1324L54.8088 49.2157",stroke:"#FDBF5A",strokeWidth:4}),Le=a.createElement("path",{d:"M66.1716 37.3676L62.0882 41.451",stroke:"#FDBF5A",strokeWidth:4}),we=a.createElement("path",{d:"M80.7304 21.8382L76.6471 25.9216",stroke:"#FDBF5A",strokeWidth:4}),ke=a.createElement("path",{d:"M88.0098 14.0735L83.9265 18.1569",stroke:"#FDBF5A",strokeWidth:4}),Ce=a.createElement("path",{d:"M50.4412 18.4412L54.5245 22.5245",stroke:"#FDBF5A",strokeWidth:4}),Fe=a.createElement("path",{d:"M58.6912 26.6912L62.7745 30.7745",stroke:"#FDBF5A",strokeWidth:4}),Me=a.createElement("path",{d:"M73.451 29.6029L69.3676 33.6863",stroke:"#FDBF5A",strokeWidth:4});function He(e,t){var r=e.title,n=e.titleId,c=he(e,["title","titleId"]);return a.createElement("svg",me({width:131,height:109,viewBox:"0 0 131 109",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,fe,xe,Oe,ge,ve,ye,Le,we,ke,Ce,Fe,Me)}var Ee=a.forwardRef(He),Ae=(r.p,r(378)),Se=Object(ue.b)(Y)((function(e){var t,r=Object.assign({},e);return r.isLoggedIn?Object(n.jsx)(p.a,{to:"/"}):Object(n.jsxs)(Ae.a,{container:!0,style:{minHeight:"100vh"},children:[Object(n.jsx)(Ae.a,{container:!0,item:!0,xs:12,sm:3,style:{backgroundColor:"black"},justify:"center",alignItems:"center",children:Object(n.jsx)(Ee,{})}),Object(n.jsx)(Ae.a,{item:!0,container:!0,xs:12,sm:9,justify:"center",alignItems:"center",children:Object(n.jsx)(Ae.a,{container:!0,item:!0,direction:"column",justify:"center",alignItems:"center",children:(t=r.renderPage,"register"===t?Object(n.jsx)(be,{}):Object(n.jsx)(je,{}))})})]})})),Te=r(25),De=r(21),Ie=r(382),Ze=r(386),Be=r(387);function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Pe(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Ne=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M68 136C105.555 136 136 105.555 136 68C136 60.1133 134.657 52.5401 132.188 45.4967L45.4967 132.188C52.5401 134.657 60.1133 136 68 136ZM13.0509 108.065L46.416 74.7003L7.89132 36.1756C2.85364 45.6708 0 56.5022 0 68C0 82.9801 4.84392 96.8289 13.0509 108.065ZM36.1756 7.89132L74.7003 46.416L108.065 13.0509C96.8289 4.84392 82.9801 0 68 0C56.5022 0 45.6708 2.85364 36.1756 7.89132Z",fill:"#FDBF5A"}),We=a.createElement("path",{d:"M22.4143 22.5858L30.8285 31",stroke:"#FDBF5A",strokeWidth:4}),Ue=a.createElement("path",{d:"M40.4143 109L32.0001 117.414",stroke:"#FDBF5A",strokeWidth:4}),Ge=a.createElement("path",{d:"M55.4143 93L47.0001 101.414",stroke:"#FDBF5A",strokeWidth:4}),Je=a.createElement("path",{d:"M70.4143 77L62.0001 85.4142",stroke:"#FDBF5A",strokeWidth:4}),Ve=a.createElement("path",{d:"M100.414 45L92.0001 53.4142",stroke:"#FDBF5A",strokeWidth:4}),ze=a.createElement("path",{d:"M115.414 29L107 37.4142",stroke:"#FDBF5A",strokeWidth:4}),_e=a.createElement("path",{d:"M38 38L46.4142 46.4142",stroke:"#FDBF5A",strokeWidth:4}),qe=a.createElement("path",{d:"M55 55L63.4142 63.4142",stroke:"#FDBF5A",strokeWidth:4}),Ye=a.createElement("path",{d:"M85.4141 61L76.9998 69.4142",stroke:"#FDBF5A",strokeWidth:4});function Ke(e,t){var r=e.title,n=e.titleId,c=Pe(e,["title","titleId"]);return a.createElement("svg",Re({width:136,height:136,viewBox:"0 0 136 136",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,Ne,We,Ue,Ge,Je,Ve,ze,_e,qe,Ye)}var $e=a.forwardRef(Ke);r.p;function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Qe(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var et=a.createElement("path",{d:"M16.6458 0.159998L14.8458 6.172H6.13375L7.78975 0.231999L16.6458 0.159998ZM23.4138 18.844L18.3738 24.964H0.87775L5.52175 8.548H14.2698L11.3898 18.808L23.4138 18.844ZM51.0828 6.208H27.3588C27.8388 4.576 28.6548 3.196 29.8068 2.068C31.2228 0.7 32.6868 0.0159998 34.1988 0.0159998H46.4388C49.5348 0.0159998 51.0828 1.66 51.0828 4.948C51.0828 5.764 51.0828 6.184 51.0828 6.208ZM50.5788 8.512L50.4348 9.088C50.0508 10.336 49.3908 12.616 48.4548 15.928C47.8548 18.016 46.9308 19.768 45.6828 21.184C43.4268 23.728 40.4028 25 36.6108 25H32.3268C30.0228 25 28.1988 24.568 26.8548 23.704C25.1988 22.672 24.3708 21.076 24.3708 18.916C24.3708 17.764 24.5508 16.54 24.9108 15.244L26.7108 8.584H35.0988L32.6148 17.332C32.5188 17.74 32.4708 18.052 32.4708 18.268C32.4708 18.748 32.6868 19.048 33.1188 19.168H38.3388C38.9868 19 39.4668 18.388 39.7788 17.332L42.3708 8.548L50.5788 8.512ZM76.5149 0.159998L74.7869 6.208H51.4229L55.2749 0.159998H76.5149ZM74.2829 8.548L72.3029 15.136H60.7469L58.0469 24.964H48.5789L53.1509 8.548H74.2829ZM102.46 0.159998L100.804 6.136H76.8276L80.6436 0.159998H102.46ZM93.1356 8.548L88.7796 24.964H80.5356L84.9996 8.548H93.1356Z",fill:"white"}),tt=a.createElement("path",{d:"M128.792 0.159998L127.136 6.136H103.16L106.976 0.159998H128.792ZM119.468 8.548L115.112 24.964H106.868L111.332 8.548H119.468ZM150.984 6.208H135.432L140.616 0.159998H149.688L150.984 6.208ZM155.016 24.964H145.98L143.532 15.172H138.42L131.184 24.964H120.636L133.524 8.512H151.488L155.016 24.964ZM185.421 0.196L179.625 6.172L162.201 6.136L160.761 0.267999H169.797L170.481 3.076L173.145 0.231999L185.421 0.196ZM177.393 8.548L173.037 13.336L175.485 25L166.125 24.964L165.441 21.94L162.741 25H150.536L163.173 11.032L162.669 8.62L177.393 8.548ZM195.114 0.159998L193.458 6.208H184.782L186.51 0.159998H195.114ZM192.918 8.548L188.418 24.964H179.67L184.242 8.548H192.918Z",fill:"#FDBF5A"});function rt(e,t){var r=e.title,n=e.titleId,c=Qe(e,["title","titleId"]);return a.createElement("svg",Xe({width:196,height:25,viewBox:"0 0 196 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,et,tt)}var nt=a.forwardRef(rt),at=(r.p,r(393)),ct=r(379),ot=Object(ue.b)(null,{logout:T})((function(e){var t=c.a.useState(0),r=Object(Te.a)(t,2),a=r[0],o=r[1];return Object(n.jsxs)(at.a,{value:a,onChange:function(e,t){o(t)},children:[Object(n.jsx)(ct.a,{label:"Map",to:"/map",component:f.b}),Object(n.jsx)(ct.a,{label:"Account",to:"/account",component:f.b}),Object(n.jsx)(ct.a,{onClick:e.logout,label:"Log Out"})]})})),it=r(381),st=r(397),lt=r(396),ut=r(388),dt=r(176),jt=r.n(dt),pt=r(376),bt=r(383),mt=r(384),ht=r(385),ft=r(177),xt=r.n(ft),Ot=r(179),gt=r.n(Ot),vt=r(178),yt=r.n(vt),Lt=r(29),wt=r(380),kt=function(e,t){var r=e.useDispatchHook,a=void 0===r?ue.c:r,o=Object(Lt.a)(),i=Object(wt.a)((function(e){return{root:{display:"flex"},drawer:Object(De.a)({},e.breakpoints.up("sm"),{display:"none"}),appBar:Object(De.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(De.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),logoIcon:{maxHeight:"60px",maxWidth:"60px",marginRight:"16px"},logoText:Object(De.a)({},e.breakpoints.down("sm"),{display:"none"}),drawerPaper:{width:240},toolbar:e.mixins.toolbar}})),s=t.window,l=i(),u=c.a.useState(!1),d=Object(Te.a)(u,2),j=d[0],p=d[1],b=function(){p(!j)},m=a(),h=Object(n.jsxs)("div",{children:[Object(n.jsx)(it.a,{}),Object(n.jsxs)(pt.a,{children:[[{text:"Map",url:"/map",icon:Object(n.jsx)(jt.a,{})},{text:"Account",url:"/account",icon:Object(n.jsx)(xt.a,{})}].map((function(e,t){return Object(n.jsx)(Ie.a,{href:e.url,children:Object(n.jsxs)(bt.a,{button:!0,children:[Object(n.jsx)(mt.a,{children:e.icon}),Object(n.jsx)(ht.a,{primary:e.text})]},e.text)},e.text)})),Object(n.jsx)(Ie.a,{onClick:function(){m(T())},children:Object(n.jsxs)(bt.a,{button:!0,children:[Object(n.jsx)(mt.a,{children:Object(n.jsx)(yt.a,{})}),Object(n.jsx)(ht.a,{primary:"Log Out"})]},"Log Out")},"logout")]})]}),f=void 0!==s?function(){return s().document.body}:void 0;return Object(n.jsxs)("div",{children:[Object(n.jsx)(Ze.a,{position:"fixed",color:"secondary",children:Object(n.jsxs)(Be.a,{variant:"dense",style:{justifyContent:"space-between"},children:[Object(n.jsxs)(Ae.a,{container:!0,item:!0,direction:"row",alignItems:"center",sm:4,children:[Object(n.jsx)($e,{className:l.logoIcon}),Object(n.jsx)(nt,{className:l.logoText})]}),Object(n.jsx)(ut.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:b,className:l.menuButton,children:Object(n.jsx)(gt.a,{})}),Object(n.jsx)(lt.a,{xsDown:!0,implementation:"css",children:Object(n.jsx)(ot,{})})]})}),Object(n.jsx)("nav",{className:l.drawer,children:Object(n.jsx)(lt.a,{smUp:!0,implementation:"css",children:Object(n.jsx)(st.a,{container:f,variant:"temporary",anchor:"rtl"===o.direction?"right":"left",open:j,onClose:b,classes:{paper:l.drawerPaper},ModalProps:{keepMounted:!0},children:h})})})]})},Ct=r(180),Ft=(r(314),r(112)),Mt=le.a().shape({}),Ht=Object(ue.b)((function(e){return{storedCard:e.profile,token:e.auth.authToken,error:e.profile.error}}),{saveCard:function(e){return{type:y,payload:e}}})((function(e){var t,r,c,o,i=Object(ee.d)({mode:"onBlur",resolver:Object(ce.a)(Mt)}),s=i.register,l=i.handleSubmit,u=i.errors,d=i.control,j=Object(a.useState)(e.storedCard.cardName),p=Object(Te.a)(j,2),h=p[0],f=p[1],x=Object(a.useState)(e.storedCard.cardNumber),O=Object(Te.a)(x,2),g=O[0],v=O[1],y=Object(a.useState)(e.storedCard.expiryDate),L=Object(Te.a)(y,2),w=L[0],k=L[1],C=Object(a.useState)(e.storedCard.cvc),F=Object(Te.a)(C,2),M=F[0],H=F[1],E=Object(a.useState)(""),A=Object(Te.a)(E,2),S=A[0],T=A[1],D={cardNumber:g,expiryDate:w,cardName:h,cvc:M,token:e.token};return Object(n.jsxs)(Ae.a,{container:!0,item:!0,direction:"column",alignItems:"center",justify:"center",xs:12,children:[Object(n.jsx)(b.a,{variant:"h4",component:"h1",style:{marginBottom:"0.8rem",fontWeight:"700",textAlign:"center"},children:"Payment method"}),Object(n.jsx)("p",{style:{textAlign:"center"},children:"Add payment details"}),Object(n.jsx)(ae,{children:e.error}),Object(n.jsxs)(re,{"data-testid":"profileForm",onSubmit:l((function(t){e.saveCard(D)})),children:[Object(n.jsxs)(Ae.a,{container:!0,item:!0,wrap:"nowrap",xs:12,children:[Object(n.jsxs)(Ae.a,{item:!0,container:!0,direction:"column",xs:12,s:5,children:[Object(n.jsx)(m.a,{htmlFor:"name",children:"Name"}),Object(n.jsx)(ie,{type:"text",name:"name",placeholder:"Name on the card",value:h,ref:s,onChange:function(e){return f(e.target.value)},onFocus:function(e){return T(e.target.name)},error:!!u.name,helperText:null===u||void 0===u||null===(t=u.name)||void 0===t?void 0:t.message,inputProps:{"data-testid":"cardName"}}),Object(n.jsx)(m.a,{htmlFor:"number",children:"Card number"}),Object(n.jsx)(ee.a,{as:Object(n.jsx)(Ft.a,{format:"#### #### #### ####",customInput:ie,onValueChange:function(e){return v(e.value)},ref:s,onFocus:function(e){return T(e.target.name)}}),control:d,type:"tel",name:"number",placeholder:"**** **** **** ****",defaultValue:g,error:!!u.number,helperText:null===u||void 0===u||null===(r=u.number)||void 0===r?void 0:r.message}),Object(n.jsxs)(Ae.a,{container:!0,item:!0,wrap:"nowrap",children:[Object(n.jsxs)(Ae.a,{container:!0,item:!0,direction:"column",children:[Object(n.jsx)(m.a,{htmlFor:"expiry",children:"MM/YY"}),Object(n.jsx)(ee.a,{as:Object(n.jsx)(Ft.a,{format:function(e){var t=function(e,t){return 1===e.length&&e[0]>t[0]&&(e="0"+e),2===e.length&&(0===Number(e)?e="01":e>t&&(e=t)),e}(e.substring(0,2),"12"),r=e.substring(2,4);return t+(r.length?"/"+r:"")},customInput:ie,onValueChange:function(e){return k(e.value)},onFocus:function(e){return T(e.target.name)},ref:s}),control:d,type:"text",name:"expiry",placeholder:"MM/YY",defaultValue:w,error:!!u.expiry,helperText:null===u||void 0===u||null===(c=u.expiry)||void 0===c?void 0:c.message})]}),Object(n.jsxs)(Ae.a,{container:!0,item:!0,direction:"column",children:[Object(n.jsx)(m.a,{htmlFor:"cvc",children:"CVC"}),Object(n.jsx)(ee.a,{as:Object(n.jsx)(Ft.a,{format:"###",customInput:ie,onFocus:function(e){return T(e.target.name)},onValueChange:function(e){return H(e.value)},ref:s}),control:d,type:"tel",name:"cvc",value:M,placeholder:"CVC",defaultValue:M,onChange:function(e){return H(e.target.value)},onFocus:function(e){return T(e.target.name)},error:!!u.cvc,helperText:null===u||void 0===u||null===(o=u.cvc)||void 0===o?void 0:o.message})]})]})]}),Object(n.jsx)(lt.a,{smDown:!0,children:Object(n.jsx)(Ae.a,{container:!0,item:!0,direction:"column",xs:12,s:5,justify:"center",style:{paddingLeft:"2rem"},children:Object(n.jsx)(Ct.a,{number:g,name:h,expiry:w,cvc:M,focused:S})})})]}),Object(n.jsx)(Ae.a,{item:!0,container:!0,justify:"center",children:Object(n.jsx)(se,{"data-testid":"profileSubmit",children:"Save"})})]})]})})),Et=r(392),At=r(334),St=function(){return Object(n.jsx)(Et.a,{style:{display:"flex",flexGrow:"1"},children:Object(n.jsx)(Ae.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center",children:Object(n.jsx)(Ae.a,{container:!0,item:!0,xs:12,sm:9,justify:"center",alignItems:"center",children:Object(n.jsx)(At.a,{elevation:5,style:{flexGrow:"1",padding:"20px 40px",zIndex:"1200",borderRadius:"10px"},children:Object(n.jsx)(Ht,{})})})})})},Tt=r(8),Dt=r.n(Tt),It=r(28),Zt=r(394),Bt=function(e){var t=e.useDispatchHook,r=void 0===t?ue.c:t,c=Object(a.useState)(""),o=Object(Te.a)(c,2),i=o[0],s=o[1],l=Object(a.useState)(""),u=Object(Te.a)(l,2),d=u[0],j=u[1],p=r();Object(a.useEffect)((function(){function e(){return(e=Object(It.a)(Dt.a.mark((function e(){return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(I());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var b=Object(ue.d)($).addresses;return Object(n.jsxs)(re,{"data-testid":"orderForm",onSubmit:function(e){e.preventDefault(),p({type:F,payload:{address1:i,address2:d}})},style:{display:"flex",flexDirection:"column",flexGrow:"1",margin:"20px"},children:[Object(n.jsx)(Ae.a,{container:!0,item:!0,wrap:"nowrap",xs:12,children:Object(n.jsxs)(Ae.a,{item:!0,container:!0,direction:"column",xs:12,s:5,children:[Object(n.jsx)(Zt.a,{options:b,filterOptions:function(e){return e.filter((function(e){return e!==d}))},onChange:function(e,t){s(t)},fullWidth:!0,renderInput:function(e){return Object(n.jsx)(ie,Object(B.a)(Object(B.a)({},e),{},{name:"address1",placeholder:"From"}))}}),Object(n.jsx)(Zt.a,{options:b,onChange:function(e,t){j(t)},filterOptions:function(e){return e.filter((function(e){return e!==i}))},fullWidth:!0,renderInput:function(e){return Object(n.jsx)(ie,Object(B.a)(Object(B.a)({},e),{},{name:"address2",placeholder:"To"}))}})]})}),Object(n.jsx)(Ae.a,{item:!0,container:!0,direction:"column",alignItems:"stretch",children:Object(n.jsx)(se,{children:"Place order"})})]})},Rt=function(){return Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column",flexGrow:"1",margin:"20px",textAlign:"center"},children:[Object(n.jsx)(b.a,{variant:"h4",component:"h1",style:{marginBottom:"0.8rem",fontWeight:"700",textAlign:"center"},children:"Add payment method"}),Object(n.jsx)("p",{children:"Add yout credit or debit card to proceed with order"}),Object(n.jsx)(se,{component:f.b,to:"/account",children:"Go to Account"})]})},Pt=function(){var e=Object(ue.d)(X).cardNumber;return Object(n.jsx)(Ae.a,{item:!0,container:!0,direction:"column",justify:"flex-start",xs:12,sm:5,style:{padding:"2rem"},children:Object(n.jsx)(At.a,{elevation:5,style:{display:"flex",justifyContent:"center",zIndex:"1200",borderRadius:"10px"},children:e.length>0?Object(n.jsx)(Bt,{}):Object(n.jsx)(Rt,{})})})},Nt=r(19),Wt=r(20),Ut=r(34),Gt=r(35),Jt=r(133),Vt=r.n(Jt),zt=r(182),_t=r.n(zt);Vt.a.accessToken="pk.eyJ1IjoiZGl2YnkwanV0c3UiLCJhIjoiY2trODFlcWNrMDZ5ZjJ2cjBja2g0cXJ0biJ9.UPbkwkpv_KaJ1yA7TrKUqg";var qt=function(e){Object(Ut.a)(r,e);var t=Object(Gt.a)(r);function r(e){var n;return Object(Nt.a)(this,r),(n=t.call(this,e)).state={lng:30.31413,lat:59.93863,zoom:12},n.map=null,n}return Object(Wt.a)(r,[{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:_t.a.mapContainer,ref:function(t){return e.mapContainer=t}})}},{key:"componentDidMount",value:function(){var e=this,t=new Vt.a.Map({container:this.mapContainer,style:"mapbox://styles/mapbox/streets-v11",center:[this.state.lng,this.state.lat],zoom:this.state.zoom});this.map=t,this.map.on("move",(function(){e.setState({lng:t.getCenter().lng.toFixed(4),lat:t.getCenter().lat.toFixed(4),zoom:t.getZoom().toFixed(2)})}))}},{key:"componentDidUpdate",value:function(e){e.route!==this.props.route&&function(e,t){e.flyTo({center:t[0],zoom:15});var r="route";e.getLayer(r)&&e.removeLayer(r),e.getSource(r)&&e.removeSource(r),e.addLayer({id:r,type:"line",source:{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t}}},layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#ffc617","line-width":8}})}(this.map,this.props.route)}}]),r}(c.a.Component),Yt=Object(ue.b)((function(e){return{route:e.route}}))(qt),Kt=function(e){var t,r=Object.assign({},e);return Object(n.jsxs)(Ae.a,{container:!0,direction:"column",style:{minHeight:"100vh"},children:[Object(n.jsx)(Ae.a,{item:!0,style:{width:"100vw",height:"108px"},children:Object(n.jsx)(kt,{})}),Object(n.jsx)(Ae.a,{item:!0,style:{display:"flex",flexGrow:"1"},children:(t=r.renderPage,"map"===t?Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(Pt,{}),Object(n.jsx)(Yt,{})]}):Object(n.jsx)(St,{}))})]})},$t=Object(ue.b)(Y)((function(e){var t=e.children,r=Object(te.a)(e,["children"]);return r.isLoggedIn?Object(n.jsx)(p.b,Object(B.a)(Object(B.a)({},r),{},{children:t})):Object(n.jsx)(p.a,{to:"/signin"})})),Xt=function(){return Object(n.jsxs)(p.d,{children:[Object(n.jsx)(p.b,{exact:!0,path:"/",render:function(){return Object(n.jsx)(p.a,{to:"/map"})}}),Object(n.jsx)(p.b,{path:"/signin",children:Object(n.jsx)(Se,{renderPage:"login"})}),Object(n.jsx)(p.b,{path:"/signup",children:Object(n.jsx)(Se,{renderPage:"register"})}),Object(n.jsx)($t,{path:"/map",children:Object(n.jsx)(Kt,{renderPage:"map"})}),Object(n.jsx)($t,{path:"/account",children:Object(n.jsx)(Kt,{renderPage:"account"})})]})},Qt=function(){return Object(n.jsx)(s.a,{theme:j,children:Object(n.jsx)(Xt,{})})},er=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,400)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),c(e),o(e)}))},tr=r(390),rr=r(127),nr=r(185),ar=r(18),cr=function(){var e=Object(It.a)(Dt.a.mark((function e(t){return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://loft-taxi.glitch.me/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),or=function(){var e=Object(It.a)(Dt.a.mark((function e(t){return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://loft-taxi.glitch.me/card",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ir=function(){var e=Object(It.a)(Dt.a.mark((function e(t){return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://loft-taxi.glitch.me/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sr=function(){var e=Object(It.a)(Dt.a.mark((function e(){return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://loft-taxi.glitch.me/addressList",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),lr=function(){var e=Object(It.a)(Dt.a.mark((function e(t,r){return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://loft-taxi.glitch.me/route?address1=".concat(encodeURIComponent(t),"&address2=").concat(encodeURIComponent(r)),{method:"GET"}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ur=Dt.a.mark(jr),dr=Dt.a.mark(pr);function jr(e){var t,r;return Dt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,Object(ar.a)(cr,t);case 3:if(!(r=n.sent).success){n.next=9;break}return n.next=7,Object(ar.c)(A(r.token));case 7:n.next=11;break;case 9:return n.next=11,Object(ar.c)(S(r.error));case 11:case"end":return n.stop()}}),ur)}function pr(){return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ar.d)(v,jr);case 2:case"end":return e.stop()}}),dr)}var br=Dt.a.mark(hr),mr=Dt.a.mark(fr);function hr(e){var t,r;return Dt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,Object(ar.a)(or,t);case 3:if(!(r=n.sent).success){n.next=9;break}return n.next=7,Object(ar.c)(D(t));case 7:n.next=11;break;case 9:return n.next=11,Object(ar.c)((a=r.error,{type:E,payload:a}));case 11:case"end":return n.stop()}var a}),br)}function fr(){return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ar.d)(y,hr);case 2:case"end":return e.stop()}}),mr)}var xr=Dt.a.mark(gr),Or=Dt.a.mark(vr);function gr(e){var t,r;return Dt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,Object(ar.a)(ir,t);case 3:if(!(r=n.sent).success){n.next=9;break}return n.next=7,Object(ar.c)(A(r.token));case 7:n.next=11;break;case 9:return n.next=11,Object(ar.c)(S(r.error));case 11:case"end":return n.stop()}}),xr)}function vr(){return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ar.d)(w,gr);case 2:case"end":return e.stop()}}),Or)}var yr=Dt.a.mark(wr),Lr=Dt.a.mark(kr);function wr(){var e;return Dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ar.a)(sr);case 2:if(!(e=t.sent).addresses){t.next=8;break}return t.next=6,Object(ar.c)({type:C,payload:e});case 6:t.next=9;break;case 8:console.log(e);case 9:case"end":return t.stop()}}),yr)}function kr(){return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ar.d)(k,wr);case 2:case"end":return e.stop()}}),Lr)}var Cr=Dt.a.mark(Mr),Fr=Dt.a.mark(Hr);function Mr(e){var t,r,n,a;return Dt.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,r=t.address1,n=t.address2,c.next=3,Object(ar.a)(lr,r,n);case 3:return a=c.sent,c.next=6,Object(ar.c)({type:M,payload:a});case 6:case"end":return c.stop()}}),Cr)}function Hr(){return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ar.d)(F,Mr);case 2:case"end":return e.stop()}}),Fr)}var Er=Dt.a.mark(Ar);function Ar(){return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ar.b)(pr);case 2:return e.next=4,Object(ar.b)(fr);case 4:return e.next=6,Object(ar.b)(vr);case 6:return e.next=8,Object(ar.b)(kr);case 8:return e.next=10,Object(ar.b)(Hr);case 10:case"end":return e.stop()}}),Er)}var Sr=Object(nr.a)(),Tr=Object(rr.a)({reducer:Q,middleware:[Sr]});Sr.run(Ar);var Dr=Object(G.b)(Tr),Ir=r(183);i.a.render(Object(n.jsxs)(c.a.StrictMode,{children:[Object(n.jsx)(tr.a,{}),Object(n.jsx)(f.a,{basename:"/loft-taxi",children:Object(n.jsx)(ue.a,{store:Tr,children:Object(n.jsx)(Ir.a,{loading:"Loading...",persistor:Dr,children:Object(n.jsx)(Qt,{})})})})]}),document.getElementById("root")),er()}},[[332,1,2]]]);
//# sourceMappingURL=main.4e2b8d04.chunk.js.map